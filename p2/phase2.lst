WIND Assembly of phase2.s                                               Page 1

Line [ Addr ]
0001           ;;; emulator for warm - phase 2
0002           ;;; (c) d.r.smith modsoussi bijan
0003 [0x0000]:         .requ   wpc, r15
0004 [0x0000]:         .requ   reg, r14
0005 [0x0000]:         .requ   ci, r13
0006 [0x0000]:         lea     WARM,r0
     [0x0000]: 40198000 000001b5          
0007 [0x0002]:         lea     REGS,reg
     [0x0002]: 41d98000 000001a0          
0008 [0x0004]:         trap    $SysOverlay
     [0x0004]: 00180000 00000006          
0009 [0x0006]:         lea     add,r4
     [0x0006]: 40998000 000000c1          
0010           ;;; snag the opcode
0011 [0x0008]:         mov     WARM(wpc),ci
     [0x0008]: 49af8000 000001b6          
0012 [0x000a]:         mov     ci,r2
     [0x000a]: 48468000                   
0013 [0x000b]:         shl     $5,r2
     [0x000b]: c0580000 00000005          
0014 [0x000d]:         shr     $26,r2  
     [0x000d]: c8580000 0000001a          
0015           ;;; lets jump straight to the address
0016 [0x000f]: .origin 200
0017 [0x00c8]: add:                            ;op 0   00000
0018 [0x00c8]: .origin 300     
0019 [0x012c]: adc:                            ;op 1   00001
0020 [0x012c]: .origin 400     
0021 [0x0190]: sub:                            ;op 2   00010
0022 [0x0190]: cmp:                            ;op 3   00011
0023 [0x0190]: eor:                            ;op 4   00100
0024 [0x0190]: orr:                            ;op 5   00101
0025 [0x0190]: and:                            ;op 6   00110
0026 [0x0190]: tst:                            ;op 7   00111
0027 [0x0190]: mul:                            ;op 8   01000
0028 [0x0190]: mla:                            ;op 9   01001
0029 [0x0190]: div:                            ;op 10  01010
0030 [0x0190]: mov:                            ;op 11  01011
0031 [0x0190]: mvn:                            ;op 12  01100
0032 [0x0190]: swi:                            ;op 13  01101
0033 [0x0190]: ldm:                            ;op 14  01110
0034 [0x0190]: stm:                            ;op 15  01111
0035           
0036 [0x0190]: ldr:                            ;op 16  10000
0037 [0x0190]: str:                            ;op 17  10001
0038 [0x0190]: ldu:                            ;op 18  10010
0039 [0x0190]: stu:                            ;op 19  10011
0040 [0x0190]: adr:                            ;op 20  10100
0041           
0042 [0x0190]: bf:                             ;op 24  11000
0043 [0x0190]: bb:                             ;op 25  11001
0044 [0x0190]: blf:                            ;op 26  11010
0045 [0x0190]: blb:                            ;op 27  11011
0046           
0047 [0x0190]: loop:   mov     WARM(r10),r0
     [0x0190]: 480d0000 000001b6          
0048 [0x0192]:         cmp     $0x06800000,r0
     [0x0192]: 98180000 06800000          
0049 [0x0194]:         je      found
     [0x0194]: 20198000 00000005          
WIND Assembly of phase2.s                                               Page 2

Line [ Addr ]
0050 [0x0196]:         add     $1,r10
     [0x0196]: a1580000 00000001          
0051 [0x0198]:         jmp     loop
     [0x0198]: 08198000 fffffff7          
0052 [0x019a]: found:  mov     r10, r0
     [0x019a]: 48050000                   
0053 [0x019b]:         trap    $SysPutNum
     [0x019b]: 00180000 00000004          
0054 [0x019d]:         mov     $'\n, r0
     [0x019d]: 48180000 0000000a          
0055 [0x019f]:         trap    $SysPutChar
     [0x019f]: 00180000 00000003          
0056 [0x01a1]:         trap    $SysHalt
     [0x01a1]: 00180000 00000000          
0057 [0x01a3]: REGS:
0058 [0x01a3]:         .data   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     [0x01a3]: 0x0000000
     [0x01a4]: 0x0000000
     [0x01a5]: 0x0000000
     [0x01a6]: 0x0000000
     [0x01a7]: 0x0000000
     [0x01a8]: 0x0000000
     [0x01a9]: 0x0000000
     [0x01aa]: 0x0000000
     [0x01ab]: 0x0000000
     [0x01ac]: 0x0000000
     [0x01ad]: 0x0000000
     [0x01ae]: 0x0000000
     [0x01af]: 0x0000000
     [0x01b0]: 0x0000000
     [0x01b1]: 0x0000000
     [0x01b2]: 0x0000000
0059 [0x01b3]: INSTR:
0060 [0x01b3]:         .data   200,300,400
     [0x01b3]: 0x00000c8
     [0x01b4]: 0x000012c
     [0x01b5]: 0x0000190
0061 [0x01b6]: WARM:    

-------------------------------------------------------------------------------
Symbols defined:
       INSTR=435            REGS=419            WARM=438             adc=300   
         add=200             adr=400             and=400              bb=400   
          bf=400             blb=400             blf=400             cmp=400   
         div=400             eor=400           found=410             ldm=400   
         ldr=400             ldu=400            loop=400             mla=400   
         mov=400             mul=400             mvn=400             orr=400   
         stm=400             str=400             stu=400             sub=400   
         swi=400             tst=400    
-------------------------------------------------------------------------------
Assembled 18 instructions at 315.79 instructions per second.
