WIND Assembly of phase2.s                                               Page 1

Line [ Addr ]
0001           ;;; emulator for warm - phase 2
0002           ;;; (c) d.r.smith modsoussi bijan
0003 [0x0000]:         .requ   wpc, r15
0004 [0x0000]:         .requ   rega, r14
0005 [0x0000]:         lea     WARM,r0
     [0x0000]: 40198000 00000051          
0006 [0x0002]:         lea     registers, rega
     [0x0002]: 41d98000 0000004f          
0007 [0x0004]:         mov     $0, 0
     [0x0004]: 4e380000 00000000 00000000 
0008 [0x0007]:         mov     $0, 1
     [0x0007]: 4e380000 00000000 00000001 
0009 [0x000a]:         mov     $0, 2
     [0x000a]: 4e380000 00000000 00000002 
0010 [0x000d]:         mov     $0, 3
     [0x000d]: 4e380000 00000000 00000003 
0011 [0x0010]:         mov     $0, 4
     [0x0010]: 4e380000 00000000 00000004 
0012 [0x0013]:         mov     $0, 5
     [0x0013]: 4e380000 00000000 00000005 
0013 [0x0016]:         mov     $0, 6
     [0x0016]: 4e380000 00000000 00000006 
0014 [0x0019]:         mov     $0, 7
     [0x0019]: 4e380000 00000000 00000007 
0015 [0x001c]:         mov     $0, 8
     [0x001c]: 4e380000 00000000 00000008 
0016 [0x001f]:         mov     $0, 9
     [0x001f]: 4e380000 00000000 00000009 
0017 [0x0022]:         mov     $0, 10
     [0x0022]: 4e380000 00000000 0000000a 
0018 [0x0025]:         mov     $0, 11
     [0x0025]: 4e380000 00000000 0000000b 
0019 [0x0028]:         mov     $0, 12
     [0x0028]: 4e380000 00000000 0000000c 
0020 [0x002b]:         mov     $0, 13
     [0x002b]: 4e380000 00000000 0000000d 
0021 [0x002e]:         mov     $0, 14
     [0x002e]: 4e380000 00000000 0000000e 
0022 [0x0031]:         mov     $0, 15
     [0x0031]: 4e380000 00000000 0000000f 
0023 [0x0034]:         trap    $SysOverlay
     [0x0034]: 00180000 00000006          
0024 [0x0036]:         mov     $0,wpc
     [0x0036]: 49f80000 00000000          
0025           ;;; snag the opcode
0026 [0x0038]:         mov     WARM(wpc), r1
     [0x0038]: 482f8000 00000052          
0027 [0x003a]:         mov     r1, r2
     [0x003a]: 48408000                   
0028 [0x003b]:         shl     $5,r2
     [0x003b]: c0580000 00000005          
0029 [0x003d]:         shr     $26,r2
     [0x003d]: c8580000 0000001a          
0030           ;;; we have the opcode in r2, now what do we do with it?
0031 [0x003f]: loop:   mov     WARM(r10),r0
     [0x003f]: 480d0000 00000052          
0032 [0x0041]:         cmp     $0x06800000,r0
     [0x0041]: 98180000 06800000          
0033 [0x0043]:         je      found
     [0x0043]: 20198000 00000005          
WIND Assembly of phase2.s                                               Page 2

Line [ Addr ]
0034 [0x0045]:         add     $1,r10
     [0x0045]: a1580000 00000001          
0035 [0x0047]:         jmp     loop
     [0x0047]: 08198000 fffffff7          
0036           
0037 [0x0049]: found:  mov     r10, r0
     [0x0049]: 48050000                   
0038 [0x004a]:         trap    $SysPutNum
     [0x004a]: 00180000 00000004          
0039 [0x004c]:         mov     $'\n, r0
     [0x004c]: 48180000 0000000a          
0040 [0x004e]:         trap    $SysPutChar
     [0x004e]: 00180000 00000003          
0041 [0x0050]:         trap    $SysHalt
     [0x0050]: 00180000 00000000          
0042 [0x0052]: WARM:    
0043 [0x0052]: registers:
0044 [0x0052]:         .data   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     [0x0052]: 0x0000000
     [0x0053]: 0x0000000
     [0x0054]: 0x0000000
     [0x0055]: 0x0000000
     [0x0056]: 0x0000000
     [0x0057]: 0x0000000
     [0x0058]: 0x0000000
     [0x0059]: 0x0000000
     [0x005a]: 0x0000000
     [0x005b]: 0x0000000
     [0x005c]: 0x0000000
     [0x005d]: 0x0000000
     [0x005e]: 0x0000000
     [0x005f]: 0x0000000
     [0x0060]: 0x0000000
     [0x0061]: 0x0000000

-------------------------------------------------------------------------------
Symbols defined:
        WARM=82            found=73             loop=63        registers=82    
-------------------------------------------------------------------------------
Assembled 34 instructions at 607.14 instructions per second.
