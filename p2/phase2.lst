WIND Assembly of phase2.s                                               Page 1

Line [ Addr ]
0001           ;;; emulator for warm - phase 2
0002           ;;; (c) d.r.smith modsoussi bijan
0003 [0x0000]: zeros:
0004 [0x0000]:         .data   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     [0x0000]: 0x0000000
     [0x0001]: 0x0000000
     [0x0002]: 0x0000000
     [0x0003]: 0x0000000
     [0x0004]: 0x0000000
     [0x0005]: 0x0000000
     [0x0006]: 0x0000000
     [0x0007]: 0x0000000
     [0x0008]: 0x0000000
     [0x0009]: 0x0000000
     [0x000a]: 0x0000000
     [0x000b]: 0x0000000
     [0x000c]: 0x0000000
     [0x000d]: 0x0000000
     [0x000e]: 0x0000000
     [0x000f]: 0x0000000
0005                   
0006 [0x0010]:         .requ   wpc, r15
0007 [0x0010]:         .requ   rega, r14
0008 [0x0010]:         lea     WARM,r0
     [0x0010]: 40198000 00000025          
0009 [0x0012]:         trap    $SysOverlay
     [0x0012]: 00180000 00000006          
0010 [0x0014]:         mov     $0,wpc
     [0x0014]: 49f80000 00000000          
0011 [0x0016]:         lea     zeros,r10 
     [0x0016]: 41598000 ffffffe9          
0012           ;;; snag the opcode
0013 [0x0018]:         mov     1(r10), r5
     [0x0018]: 48ad0000 00000001          
0014 [0x001a]:         trap    $SysPutNum
     [0x001a]: 00180000 00000004          
0015 [0x001c]:         mov     WARM(wpc), r1
     [0x001c]: 482f8000 00000036          
0016 [0x001e]:         mov     r1, r2
     [0x001e]: 48408000                   
0017 [0x001f]:         shl     $5,r2
     [0x001f]: c0580000 00000005          
0018 [0x0021]:         shr     $26,r2
     [0x0021]: c8580000 0000001a          
0019           ;;; we have the opcode in r2, now what do we do with it?
0020 [0x0023]: loop:   mov     WARM(r10),r0
     [0x0023]: 480d0000 00000036          
0021 [0x0025]:         cmp     $0x06800000,r0
     [0x0025]: 98180000 06800000          
0022 [0x0027]:         je      found
     [0x0027]: 20198000 00000005          
0023 [0x0029]:         add     $1,r10
     [0x0029]: a1580000 00000001          
0024 [0x002b]:         jmp     loop
     [0x002b]: 08198000 fffffff7          
0025           
0026 [0x002d]: found:  mov     r10, r0
     [0x002d]: 48050000                   
0027 [0x002e]:         trap    $SysPutNum
     [0x002e]: 00180000 00000004          
WIND Assembly of phase2.s                                               Page 2

Line [ Addr ]
0028 [0x0030]:         mov     $'\n, r0
     [0x0030]: 48180000 0000000a          
0029 [0x0032]:         trap    $SysPutChar
     [0x0032]: 00180000 00000003          
0030 [0x0034]:         trap    $SysHalt
     [0x0034]: 00180000 00000000          
0031 [0x0036]: WARM:    

-------------------------------------------------------------------------------
Symbols defined:
        WARM=54            found=45             loop=35            zeros=0     
-------------------------------------------------------------------------------
Assembled 20 instructions at 454.55 instructions per second.
