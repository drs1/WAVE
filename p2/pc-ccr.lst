WARM Assembly of ../tests/pc-ccr.as                                     Page 1

Line [ Addr ]
0001           ;;; CCR bits and PC lopping.    -*- mode:asm; compile-command: "w
0002           ;;; (c) 2010 duane a. bailey
0003                   ;; test 0
0004 [0x0000]: zero:   movs    r0,#1           ; ccr: nzcv
     [0x0000]: 0x15800001 = 0b00010101100000000000000000000001
0005 [0x0001]:         stm     sp,#0x8000      ; save ccr+pc to stack top
     [0x0001]: 0x07e81e01 = 0b00000111111010000001111000000001
0006 [0x0002]:         ldm     sp,#0x0001      ; grap ccr+pc
     [0x0002]: 0x07680001 = 0b00000111011010000000000000000001
0007 [0x0003]:         mov     r0,r0,lsr #28   ; just ccr
     [0x0003]: 0x0580441c = 0b00000101100000000100010000011100
0008 [0x0004]:         swi     #SysPutNum      ; write 0
     [0x0004]: 0x06800401 = 0b00000110100000000000010000000001
0009                   ;; test 1
0010 [0x0005]:         cmp     r0,#0           ; ccr: nZcv
     [0x0005]: 0x11800000 = 0b00010001100000000000000000000000
0011                   ;;  finish test 0
0012 [0x0006]:         mov     r0,#'\n
     [0x0006]: 0x05800205 = 0b00000101100000000000001000000101
0013 [0x0007]:         swi     #SysPutChar
     [0x0007]: 0x06800003 = 0b00000110100000000000000000000011
0014                   ;;  continue test 1
0015 [0x0008]: one:    stm     sp,#0x8000      ; save ccr+pc to stack top
     [0x0008]: 0x07e81e01 = 0b00000111111010000001111000000001
0016 [0x0009]:         ldm     sp,#0x0001      ; grap ccr+pc
     [0x0009]: 0x07680001 = 0b00000111011010000000000000000001
0017 [0x000a]:         mov     r0,r0,lsr #30   ; just ccr
     [0x000a]: 0x0580441e = 0b00000101100000000100010000011110
0018 [0x000b]:         swi     #SysPutNum      ; write 1
     [0x000b]: 0x06800401 = 0b00000110100000000000010000000001
0019 [0x000c]:         mov     r0,#'\n
     [0x000c]: 0x05800205 = 0b00000101100000000000001000000101
0020 [0x000d]:         swi     #SysPutChar
     [0x000d]: 0x06800003 = 0b00000110100000000000000000000011
0021                   ;; test 2
0022 [0x000e]: two:    movs    r1,#0           ; ccr: nZcv
     [0x000e]: 0x15880000 = 0b00010101100010000000000000000000
0023 [0x000f]:         mvns    r0,r1           ; ccr: Nzcv
     [0x000f]: 0x16004040 = 0b00010110000000000100000001000000
0024 [0x0010]:         stm     sp,#0x8000      ; save ccr+pc to stack top
     [0x0010]: 0x07e81e01 = 0b00000111111010000001111000000001
0025 [0x0011]:         ldm     sp,#0x0001      ; grap ccr+pc
     [0x0011]: 0x07680001 = 0b00000111011010000000000000000001
0026 [0x0012]:         mov     r0,r0,lsr #30   ; just ccr
     [0x0012]: 0x0580441e = 0b00000101100000000100010000011110
0027 [0x0013]:         swi     #SysPutNum      ; write 2
     [0x0013]: 0x06800401 = 0b00000110100000000000010000000001
0028 [0x0014]:         mov     r0,#'\n
     [0x0014]: 0x05800205 = 0b00000101100000000000001000000101
0029 [0x0015]:         swi     #SysPutChar
     [0x0015]: 0x06800003 = 0b00000110100000000000000000000011
0030 [0x0016]: three:  mov     r1,#2
     [0x0016]: 0x05880201 = 0b00000101100010000000001000000001
0031 [0x0017]:         cmp     r1,#1           ; ccr: nzCv
     [0x0017]: 0x11808001 = 0b00010001100000001000000000000001
0032 [0x0018]:         adc     r0,r1,#0
     [0x0018]: 0x00808000 = 0b00000000100000001000000000000000
0033 [0x0019]:         swi     #SysPutNum      ; write 3
     [0x0019]: 0x06800401 = 0b00000110100000000000010000000001
0034 [0x001a]:         mov     r0,#'\n
WARM Assembly of ../tests/pc-ccr.as                                     Page 2

Line [ Addr ]
     [0x001a]: 0x05800205 = 0b00000101100000000000001000000101
0035 [0x001b]:         swi     #SysPutChar
     [0x001b]: 0x06800003 = 0b00000110100000000000000000000011
0036 [0x001c]: four:   mvn     r1,#0x80000000  ; wow, that's small
     [0x001c]: 0x06083e01 = 0b00000110000010000011111000000001
0037 [0x001d]:         adds    r0,r1,#1        ; ccr: NzcV
     [0x001d]: 0x10008001 = 0b00010000000000001000000000000001
0038 [0x001e]:         stm     sp,#0x8000      ; save ccr+pc to stack top
     [0x001e]: 0x07e81e01 = 0b00000111111010000001111000000001
0039 [0x001f]:         ldm     sp,#0x0001      ; grap ccr+pc
     [0x001f]: 0x07680001 = 0b00000111011010000000000000000001
0040 [0x0020]:         mov     r0,r0,lsr #26   ; just ccr
     [0x0020]: 0x0580441a = 0b00000101100000000100010000011010
0041 [0x0021]:         and     r0,r0,#4        ; just V
     [0x0021]: 0x03000401 = 0b00000011000000000000010000000001
0042 [0x0022]:         swi     #SysPutNum      ; write 4
     [0x0022]: 0x06800401 = 0b00000110100000000000010000000001
0043 [0x0023]:         mov     r0,#'\n
     [0x0023]: 0x05800205 = 0b00000101100000000000001000000101
0044 [0x0024]:         swi     #SysPutChar
     [0x0024]: 0x06800003 = 0b00000110100000000000000000000011
0045 [0x0025]: five:   mov     r0,#5
     [0x0025]: 0x05800005 = 0b00000101100000000000000000000101
0046 [0x0026]:         add     pc,pc,#2
     [0x0026]: 0x007f8201 = 0b00000000011111111000001000000001
0047 [0x0027]:         b       _x
     [0x0027]: 0x0c000003 = 0b00001100000000000000000000000011
0048 [0x0028]:         b       _y
     [0x0028]: 0x0c000004 = 0b00001100000000000000000000000100
0049 [0x0029]:         b       _z
     [0x0029]: 0x0c000005 = 0b00001100000000000000000000000101
0050 [0x002a]: _x:     mov     r0,#'!
     [0x002a]: 0x05800021 = 0b00000101100000000000000000100001
0051 [0x002b]:         b       _common
     [0x002b]: 0x0c000004 = 0b00001100000000000000000000000100
0052 [0x002c]: _y:     mov     r0,#'5
     [0x002c]: 0x05800035 = 0b00000101100000000000000000110101
0053 [0x002d]:         b       _common
     [0x002d]: 0x0c000002 = 0b00001100000000000000000000000010
0054 [0x002e]: _z:     mov     r0,#'?
     [0x002e]: 0x0580003f = 0b00000101100000000000000000111111
0055 [0x002f]: _common: swi    #SysPutChar
     [0x002f]: 0x06800003 = 0b00000110100000000000000000000011
0056 [0x0030]:         mov     r0,#'\n
     [0x0030]: 0x05800205 = 0b00000101100000000000001000000101
0057 [0x0031]:         swi     #SysPutChar
     [0x0031]: 0x06800003 = 0b00000110100000000000000000000011
0058 [0x0032]: six:    mov     r0,#2
     [0x0032]: 0x05800201 = 0b00000101100000000000001000000001
0059 [0x0033]:         add     r0,r0,#0xdb000000
     [0x0033]: 0x000030db = 0b00000000000000000011000011011011
0060 [0x0034]:         add     pc,pc,r0
     [0x0034]: 0x007fc000 = 0b00000000011111111100000000000000
0061 [0x0035]:         b       _woops
     [0x0035]: 0x0c000003 = 0b00001100000000000000000000000011
0062 [0x0036]:         mov     r0,#6
     [0x0036]: 0x05800203 = 0b00000101100000000000001000000011
0063 [0x0037]:         swi     #SysPutNum
     [0x0037]: 0x06800401 = 0b00000110100000000000010000000001
0064 [0x0038]: _woops: 
WARM Assembly of ../tests/pc-ccr.as                                     Page 3

Line [ Addr ]
0065 [0x0038]: _fini:  
0066 [0x0038]:         swi     #SysHalt
     [0x0038]: 0x06800000 = 0b00000110100000000000000000000000
0067                   
0068                   

-------------------------------------------------------------------------------
Symbols defined:
        five=37             four=28              one=8               six=50    
       three=22              two=14             zero=0      
-------------------------------------------------------------------------------
Assembled 57 instructions at 814.29 instructions per second.
